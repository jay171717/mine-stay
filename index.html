<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minecraft Bot Control</title>
  <script src="/socket.io/socket.io.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #eee; margin: 0; }
    header { background: #222; padding: 1em; text-align: center; font-size: 1.5em; }
    nav { display: flex; background: #333; }
    nav button { flex: 1; padding: 1em; border: none; background: #333; color: #eee; cursor: pointer; }
    nav button.active { background: #555; }
    section { display: none; padding: 1em; }
    section.active { display: block; }
    .status { margin: 1em 0; font-size: 1.2em; }
    #debugLog { background: #000; padding: 1em; height: 300px; overflow-y: auto; font-family: monospace; }
  </style>
</head>
<body>
  <header>Minecraft Bot Control Panel</header>
  <nav>
    <button class="tab active" data-tab="control">Control</button>
    <button class="tab" data-tab="settings">Settings</button>
    <button class="tab" data-tab="debug">Debug</button>
  </nav>

  <section id="control" class="active">
    <div class="status">Status: <span id="botStatus">Offline</span></div>
    <button id="toggleBtn">Start Bot</button>
    <div>
      <input id="cmdInput" placeholder="Enter command..." />
      <button id="sendCmd">Send</button>
    </div>
  </section>

  <section id="settings">
    <h2>Settings</h2>
    <p>(Future settings will go here...)</p>
  </section>

  <section id="debug">
    <h2>Debug Log</h2>
    <div id="debugLog"></div>
  </section>

  <script>
    const socket = io();
    const statusEl = document.getElementById("botStatus");
    const toggleBtn = document.getElementById("toggleBtn");
    const cmdInput = document.getElementById("cmdInput");
    const sendCmdBtn = document.getElementById("sendCmd");
    const debugLog = document.getElementById("debugLog");

    // Tab switching
    document.querySelectorAll(".tab").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
        document.getElementById(btn.dataset.tab).classList.add("active");
      });
    });

    socket.on("status", (online) => {
      statusEl.textContent = online ? "Online" : "Offline";
      toggleBtn.textContent = online ? "Stop Bot" : "Start Bot";
    });

    socket.on("debug", (msg) => {
      const line = document.createElement("div");
      line.textContent = msg;
      debugLog.appendChild(line);
      debugLog.scrollTop = debugLog.scrollHeight;
    });

    toggleBtn.addEventListener("click", () => {
      socket.emit("toggle");
    });

    sendCmdBtn.addEventListener("click", () => {
      const cmd = cmdInput.value.trim();
      if (cmd) {
        socket.emit("sendCommand", cmd);
        cmdInput.value = "";
      }
    });
  </script>
</body>
</html>
